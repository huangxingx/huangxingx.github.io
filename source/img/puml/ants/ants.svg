<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="332px" preserveAspectRatio="none" style="width:455px;height:332px;background:#FFFFFF;" version="1.1" viewBox="0 0 455 332" width="455px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v6iw5buzoywo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6a238c3ff9e730477301de7c2bfcc723]
class Pool--><rect codeLine="1" fill="#FEFECE" filter="url(#f1v6iw5buzoywo)" height="125.7305" id="Pool" style="stroke:#A80036;stroke-width:1.5;" width="79" x="11" y="193"/><ellipse cx="36.35" cy="209" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M38.8231,215.1431 Q38.2421,215.4419 37.6029,215.5913 Q36.9638,215.7407 36.2582,215.7407 Q33.7514,215.7407 32.4315,214.0889 Q31.1117,212.437 31.1117,209.3159 Q31.1117,206.1865 32.4315,204.5347 Q33.7514,202.8828 36.2582,202.8828 Q36.9638,202.8828 37.6112,203.0322 Q38.2587,203.1816 38.8231,203.4805 L38.8231,206.2031 Q38.1923,205.6221 37.5988,205.3523 Q37.0053,205.0825 36.3744,205.0825 Q35.0297,205.0825 34.3449,206.1492 Q33.6601,207.2158 33.6601,209.3159 Q33.6601,211.4077 34.3449,212.4744 Q35.0297,213.541 36.3744,213.541 Q37.0053,213.541 37.5988,213.2712 Q38.1923,213.0015 38.8231,212.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="52.65" y="213.5352">Pool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="12" x2="89" y1="225" y2="225"/><line style="stroke:#A80036;stroke-width:1.5;" x1="12" x2="89" y1="233" y2="233"/><ellipse cx="22" cy="244" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="31" y="247.6348">NewPool()</text><ellipse cx="22" cy="256.9551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="31" y="260.5898">Submit()</text><ellipse cx="22" cy="269.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="31" y="273.5449">Free()</text><ellipse cx="22" cy="282.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="31" y="286.5">Cap()</text><ellipse cx="22" cy="295.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="31" y="299.4551">Release()</text><ellipse cx="22" cy="308.7754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="31" y="312.4102">Reboot()</text><!--MD5=[67606b51d10375cd3d26065e6ca896ca]
class goWorker--><rect codeLine="10" fill="#FEFECE" filter="url(#f1v6iw5buzoywo)" height="86.8652" id="goWorker" style="stroke:#A80036;stroke-width:1.5;" width="87" x="7" y="26.5"/><ellipse cx="22" cy="42.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M24.4731,48.6431 Q23.8921,48.9419 23.2529,49.0913 Q22.6138,49.2407 21.9082,49.2407 Q19.4014,49.2407 18.0815,47.5889 Q16.7617,45.937 16.7617,42.8159 Q16.7617,39.6865 18.0815,38.0347 Q19.4014,36.3828 21.9082,36.3828 Q22.6138,36.3828 23.2612,36.5322 Q23.9087,36.6816 24.4731,36.9805 L24.4731,39.7031 Q23.8423,39.1221 23.2488,38.8523 Q22.6553,38.5825 22.0244,38.5825 Q20.6797,38.5825 19.9949,39.6492 Q19.3101,40.7158 19.3101,42.8159 Q19.3101,44.9077 19.9949,45.9744 Q20.6797,47.041 22.0244,47.041 Q22.6553,47.041 23.2488,46.7712 Q23.8423,46.5015 24.4731,45.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="36" y="47.0352">goWorker</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="93" y1="58.5" y2="58.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="13" y="73.1348">Pool pool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="13" y="86.0898">task</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="93" y1="92.4102" y2="92.4102"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="100.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="27" x="27" y="107.0449">run()</text><!--MD5=[944fe3261d51a470e6127b86721a75f8]
class workerArray--><rect codeLine="16" fill="#FEFECE" filter="url(#f1v6iw5buzoywo)" height="125.7305" id="workerArray" style="stroke:#A80036;stroke-width:1.5;" width="299" x="142" y="7"/><ellipse cx="251.75" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M248.1777,19.2651 L248.1777,17.1069 L255.5571,17.1069 L255.5571,19.2651 L253.0918,19.2651 L253.0918,27.3418 L255.5571,27.3418 L255.5571,29.5 L248.1777,29.5 L248.1777,27.3418 L250.6431,27.3418 L250.6431,19.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="272.25" y="27.5352">workerArray</text><line style="stroke:#A80036;stroke-width:1.5;" x1="143" x2="440" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="143" x2="440" y1="47" y2="47"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="55"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="162" y="61.6348">len() int</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="67.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="162" y="74.5898">isEmpty() bool</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="80.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="162" y="87.5449">insert(worker *goWorker) error</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="93.8652"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="162" y="100.5">detach() *goWorker</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="106.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="162" y="113.4551">retrieveExpiry(duration time.Duration) []*goWorker</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="119.7754"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="162" y="126.4102">reset()</text><!--MD5=[bfc71cc72bccc0740e6f09e85580fc7e]
class loopQueue--><rect codeLine="27" fill="#FEFECE" filter="url(#f1v6iw5buzoywo)" height="48" id="loopQueue" style="stroke:#A80036;stroke-width:1.5;" width="94" x="184.5" y="232"/><ellipse cx="199.5" cy="248" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M201.9731,254.1431 Q201.3921,254.4419 200.7529,254.5913 Q200.1138,254.7407 199.4082,254.7407 Q196.9014,254.7407 195.5815,253.0889 Q194.2617,251.437 194.2617,248.3159 Q194.2617,245.1865 195.5815,243.5347 Q196.9014,241.8828 199.4082,241.8828 Q200.1138,241.8828 200.7612,242.0322 Q201.4087,242.1816 201.9731,242.4805 L201.9731,245.2031 Q201.3423,244.6221 200.7488,244.3523 Q200.1553,244.0825 199.5244,244.0825 Q198.1797,244.0825 197.4949,245.1492 Q196.8101,246.2158 196.8101,248.3159 Q196.8101,250.4077 197.4949,251.4744 Q198.1797,252.541 199.5244,252.541 Q200.1553,252.541 200.7488,252.2712 Q201.3423,252.0015 201.9731,251.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="213.5" y="252.5352">loopQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="185.5" x2="277.5" y1="264" y2="264"/><line style="stroke:#A80036;stroke-width:1.5;" x1="185.5" x2="277.5" y1="272" y2="272"/><!--MD5=[b8b9ad7c3d2d0428482eb1aca5abeffd]
class workerStack--><rect codeLine="30" fill="#FEFECE" filter="url(#f1v6iw5buzoywo)" height="48" id="workerStack" style="stroke:#A80036;stroke-width:1.5;" width="102" x="313.5" y="232"/><ellipse cx="328.5" cy="248" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M330.9731,254.1431 Q330.3921,254.4419 329.7529,254.5913 Q329.1138,254.7407 328.4082,254.7407 Q325.9014,254.7407 324.5815,253.0889 Q323.2617,251.437 323.2617,248.3159 Q323.2617,245.1865 324.5815,243.5347 Q325.9014,241.8828 328.4082,241.8828 Q329.1138,241.8828 329.7612,242.0322 Q330.4087,242.1816 330.9731,242.4805 L330.9731,245.2031 Q330.3423,244.6221 329.7488,244.3523 Q329.1553,244.0825 328.5244,244.0825 Q327.1797,244.0825 326.4949,245.1492 Q325.8101,246.2158 325.8101,248.3159 Q325.8101,250.4077 326.4949,251.4744 Q327.1797,252.541 328.5244,252.541 Q329.1553,252.541 329.7488,252.2712 Q330.3423,252.0015 330.9731,251.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="342.5" y="252.5352">workerStack</text><line style="stroke:#A80036;stroke-width:1.5;" x1="314.5" x2="414.5" y1="264" y2="264"/><line style="stroke:#A80036;stroke-width:1.5;" x1="314.5" x2="414.5" y1="272" y2="272"/><!--MD5=[50272ed42d494a06fd26831b352fbd6e]
link goWorker to Pool--><path codeLine="9" d="M50.5,113.68 C50.5,135.58 50.5,162.78 50.5,187.45 " fill="none" id="goWorker-to-Pool" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="50.5,192.67,54.5,183.67,50.5,187.67,46.5,183.67,50.5,192.67" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6068b1adf33a94d95431494da74cf59c]
reverse link workerArray to loopQueue--><path codeLine="24" d="M265,152.26 C255.54,181.27 245.61,211.72 239.04,231.87 " fill="none" id="workerArray-backto-loopQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="258.41,149.88,271.27,133.04,271.73,154.22,258.41,149.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[558fe25e72c4883eac3fdcf67a3a5efc]
reverse link workerArray to workerStack--><path codeLine="25" d="M323.57,151.84 C335.13,180.98 347.29,211.63 355.32,231.87 " fill="none" id="workerArray-backto-workerStack" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="316.98,154.21,316.11,133.04,329.99,149.05,316.98,154.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[14eae46050c597badfa0e3f6da3c73f6]
@startuml ants
class Pool {
    + NewPool()
    + Submit()
    + Free()
    + Cap()
    + Release()
    + Reboot()
}
goWorker - -> Pool
class goWorker {
    Pool pool
    task
    -run()
}

interface workerArray{
    -len() int
	-isEmpty() bool
	-insert(worker *goWorker) error
	-detach() *goWorker
	-retrieveExpiry(duration time.Duration) []*goWorker
	-reset()
}
workerArray <|- - loopQueue
workerArray <|- - workerStack

class loopQueue{

}
class workerStack{}

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>