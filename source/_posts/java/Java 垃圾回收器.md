---
title: Java 垃圾回收器
auto_excerpt:
  enable: true
  length: 150
date: 2023-03-28
tags:
- java
- 垃圾回收
categories:
- java
---

### 垃圾回收器

JVM（Java Virtual Machine）的垃圾回收器主要分为以下几种：

1. Serial垃圾回收器：Serial垃圾回收器是JVM中最古老的垃圾回收器，它使用单线程执行垃圾回收操作。Serial垃圾回收器适用于小型应用程序，它的主要优点是简单、高效、低内存占用。
2. Parallel垃圾回收器：Parallel垃圾回收器是Serial垃圾回收器的多线程版本，它可以充分利用多核CPU的优势，提高垃圾回收效率。Parallel垃圾回收器适用于中等大小的应用程序。
3. CMS（Concurrent Mark Sweep）垃圾回收器：CMS垃圾回收器是一种以低延迟为目标的垃圾回收器，它可以与应用程序并发执行。CMS垃圾回收器主要用于大型应用程序，可以减少应用程序的停顿时间，提高应用程序的响应速度。
4. G1（Garbage-First）垃圾回收器：G1垃圾回收器是一种面向大型堆内存的垃圾回收器，它可以充分利用多核CPU的优势，同时还可以避免长时间的垃圾回收停顿。G1垃圾回收器适用于大型、高并发的应用程序。

除了以上常见的垃圾回收器，还有一些特殊用途的垃圾回收器，例如ZGC（Z Garbage Collector）和Shenandoah垃圾回收器。这些垃圾回收器主要针对一些特殊场景进行优化，例如大型内存、低延迟等。

### CMS 使用场景

虽然JDK 1.8中已经建议使用G1垃圾回收器，但是在某些特殊场景下，CMS垃圾回收器仍然可以发挥一定的作用。主要是以下两种场景：

1. 大内存堆情况下：当堆内存较大时，G1垃圾回收器可能需要很长时间才能完成垃圾回收，而CMS垃圾回收器可以在更短的时间内完成垃圾回收操作，避免了应用程序长时间的停顿。
2. 高吞吐量场景下：CMS垃圾回收器在应用程序执行垃圾回收时，采用了并发的方式，可以在应用程序运行的同时执行垃圾回收操作，因此可以保证应用程序的吞吐量。而G1垃圾回收器虽然在低延迟场景下表现优异，但是在高吞吐量场景下可能无法充分利用多核CPU的优势，导致应用程序的吞吐量不高。

需要注意的是，CMS垃圾回收器在执行垃圾回收操作时，需要占用一部分CPU资源，因此可能会影响应用程序的性能。因此，如果应用程序对性能有较高的要求，建议使用G1垃圾回收器。